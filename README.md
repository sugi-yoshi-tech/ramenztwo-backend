# 🤖 プレスリリース改善AI アナライザー

AIを活用してプレスリリースをメディアの視点から分析し、具体的な改善点を提案するWebアプリケーションです。

PR TIMESの記事を直接インポートし、「メディアフック」と呼ばれる9つの観点から評価。総合評価や段落ごとの改善案を提示することで、より多くのメディアに注目されるプレスリリースの作成を支援します。

![AI robot analyzing documents](https://via.placeholder.com/700x300.png?text=Press+Release+AI+Analyzer)

## ✨ 主な機能

* **PR TIMES連携**: 企業IDを指定して、公開済みのプレスリリースを期間を指定して直接インポートできます。
* **AIによる多角的な分析**: OpenAIの最新モデル (`gpt-4o`) を活用し、プレスリリースを9つのメディアフックの観点から5段階で評価します。
* **段落ごとの具体的な改善提案**: 元の文章と改善案を並べて表示し、どこをどう直せば良いかが一目でわかります。改善の優先度も提示します。
* **総合評価とサマリー**: 全体のスコア、強み、弱み、そして最も優先すべき改善点をまとめて提示し、改善の方向性を明確にします。
* **画像分析**: プレスリリースのトップ画像をAIが直接評価し、ビジュアル面でのインパクトも分析対象とします。

---

## 🛠️ 技術スタック

* **バックエンド**: FastAPI, Pydantic, Uvicorn
* **フロントエンド**: Streamlit
* **AI**: OpenAI (Instructorライブラリ経由)
* **言語**: Python 3.9+
* **主要ライブラリ**: `requests`, `httpx`, `python-dotenv`

---

## 🚀 セットアップと実行方法

### 1. 前提条件

* Python 3.9以降がインストールされていること
* [Poetry](https://python-poetry.org/) または `pip` によるパッケージ管理
* OpenAI APIキー
* PR TIMES ハッカソンAPI アクセストークン

### 2. インストール

1.  **リポジトリをクローンします**:
    ```bash
    git clone [https://github.com/your-repository/press-release-analyzer.git](https://github.com/your-repository/press-release-analyzer.git)
    cd press-release-analyzer
    ```

2.  **必要なライブラリをインストールします**:
    ```bash
    pip install -r requirements.txt
    # または Poetry を使用する場合
    # poetry install
    ```

3.  **環境変数を設定します**:
    プロジェクトのルートディレクトリに `.env` ファイルを作成し、以下の内容を記述してください。

    ```.env
    OPENAI_API_KEY="sk-..."
    OPENAI_MODEL="gpt-4o"
    PRTIMES_ACCESS_TOKEN="..."
    ```

### 3. アプリケーションの実行

このアプリケーションは、**バックエンドAPI (FastAPI)** と **フロントエンド (Streamlit)** の2つのコンポーネントで構成されています。それぞれを別のターミナルで起動する必要があります。

1.  **【ターミナル1】バックエンドAPIを起動**:
    ```bash
    uvicorn main:app --reload --port 8000
    ```
    APIサーバーが `http://127.0.0.1:8000` で起動します。

2.  **【ターミナル2】フロントエンドを起動**:
    ```bash
    streamlit run app_streamlit.py
    ```
    Webブラウザで `http://localhost:8501` が自動的に開かれ、アプリケーションのUIが表示されます。

---

## 📖 使い方

1.  **企業一覧を読み込む**: サイドバーの指示に従い、まずはAPIサーバーを起動してください。その後、「企業一覧を読み込む」ボタンを押して、PR TIMESに登録されている企業リストを取得します。
2.  **企業と記事を選択**: 分析したい企業をドロップダウンから選択し、記事の検索期間を指定します。該当するプレスリリースが一覧表示されるので、分析したい記事を選択します。
3.  **記事内容の確認・編集**: 選択した記事のタイトル、本文、画像URLが自動でフォームにセットされます。必要に応じて内容を編集します。ターゲットペルソナも指定できます。
4.  **分析を実行**: 「分析を実行 →」ボタンを押すと、AIによる分析が開始されます（数十秒かかる場合があります）。
5.  **結果の確認**: 分析が完了すると、以下の3つの観点から結果が表示されます。
    * **全体評価サマリー**: 総合スコアや強み・弱みなど。
    * **メディアフック評価**: 9つのフックごとの評価スコアと改善例。
    * **段落ごとの改善提案**: 具体的な文章の修正案。

---

## 📁 プロジェクト構成
.
├── .env              # 環境変数ファイル（各自で作成）
├── main.py           # FastAPIバックエンドアプリケーション
├── app_streamlit.py  # Streamlitフロントエンドアプリケーション
├── models.py         # Pydanticデータモデル定義
└── requirements.txt  # 必要なPythonライブラリ

### APIエンドポイント

* `GET /companies`: PR TIMESに登録されている企業の一覧を取得します。
* `GET /companies/{company_id}/releases`: 指定された企業のプレスリリース一覧を期間指定で取得します。
* `POST /analyze`: プレスリリースの内容を送信し、AIによる分析結果をJSON形式で受け取ります。

---